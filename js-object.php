<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width">
    </head>
    <body>

    </body>

    <script type="text/javascript">
        function Car(model, color, year, owner) {
            this.model = model;
            this.color = color;
            this.year = year;
            this.owner = owner;
            this.fDisplayCar = function() {
                alert(this.model);
            };
        }
        var myCar = new Car('ford focus', 'olive', 2011, imOwner);

        var imOwner = {
            name: 'Boris',
            surname: 'Nmtv',
            sex: 'm',
            salary: 50,
            get fullName() {
                return 'mr. ' + this.name + ' ' + this.surname;
            },
            set dSallary(d) {
                this.salary += parseInt(d);
            }
        };
        var myCar = {
            model: 'Ford Focus',
            color: 'olive',
            year: 2011,
            owner: imOwner,
            fDisplayInfo: function(pre) {
                alert(pre + this.model + ' ' + this.color + ' ' + this.year);
            }
        };

        //myCar.fDisplayInfo('My car is: ');

        //imOwner.dSallary = 5;
        //alert(imOwner.salary);
        ////////////////////////////////////////////////////////////////////////

        function sys__mixin(target) {
            var mixins = Array.prototype.slice.call(arguments, 1);
            for (var i = 0; i < mixins.length; ++i) {
                for (var prop in mixins[i]) {
                    if (typeof target.prototype[prop] === "undefined") {
                        target.prototype[prop] = mixins[i][prop];
                    }
                }
            }
        }

        function Machine() {
            this.carManufacturer = '';
            this.model = '';
            this.isStarted = false;
        }

        Machine.prototype.startEngine = function(countChiChiChi) {
            this.isStarted = true;
            alert('Engine is started with ' + countChiChiChi + ' chi-chi-chi');
        };

        function Fund() {
            this.price = 0;
            Object.defineProperties(this, {
                'getPrice': {get: function() {
                        return this.price;
                    }},
                'dPrice': {set: function(d) {
                        this.price += parseInt(d);
                    }}
            });
        }
        ;

        var Move = {
            x: 0,
            y: 0,
            shift: function(dx, dy) {
                this.x += parseInt(dx);
                this.y += parseInt(dy);
            }
        };

        function Car() {
            Machine.call(this);
            Fund.call(this); //!!!! for mixin!!!
        }

        Car.prototype = Object.create(Machine.prototype);
        sys__mixin(Car, Fund, Move);

        var myCar = new Car();
        //myCar.startEngine(5);

        myCar.dPrice = 500;
        //alert(myCar.price);

        myCar.shift(2, 3);
        myCar.shift(8, 9);
        //alert(myCar.x);
              


    </script>



</html>